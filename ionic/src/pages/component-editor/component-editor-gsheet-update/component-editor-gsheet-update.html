<component-editor [outputBlock]="outputBlock" [validated]="isValid()">
  <div [hidden]="outputBlock.type != 'google_sheets'">

    <ion-item text-wrap>
      <label for="_googleSheetsUrl">{{ 'googleSheetsUrl' | translate }}</label>
      <input id="_googleSheetsUrl" [(ngModel)]="outputBlock.googleSheetsUrl" class="inline-input" type="url" placeholder="Example: https://docs.google.com/spreadsheets/d/4281a3386e77d42a9089da5769fb7b22" [style.border]="isUrlInvalid() ? '1px solid #f53d3d' : ''" />
    </ion-item>

    <ion-item text-wrap>
      <label for="_googleSheetsAction">{{ 'googleSheetsAction' | translate }}</label>
      <select id="_googleSheetsAction" [(ngModel)]="outputBlock.googleSheetsAction" class="component-editor-select">
        <option value="append">{{ 'googleSheetsActionAppend' | translate }}</option>
        <option value="get">{{ 'googleSheetsActionGet' | translate }}</option>
        <option value="delete">{{ 'googleSheetsActionDelete' | translate }}</option>
      </select>
      <br>
      <p>
        {{ 'googleSheetsActionDescription' | translate }}
      </p>
    </ion-item>

    <ion-item text-wrap>
      <label for="_keyColumn">{{ 'googleSheetsKeyColumn' | translate }}</label>
      <div style="position: relative; width: 100%;">
        <ion-icon name="key" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #999;"></ion-icon>
        <input id="_keyColumn" [value]="'barcode'" class="inline-input" type="text" disabled style="padding-left: 35px;" />
      </div>
      <br>
      <p>
        {{ 'googleSheetsKeyColumnDescription' | translate }}
      </p>
    </ion-item>

    <!-- Columns Section for Append Action -->
    <div *ngIf="outputBlock.googleSheetsAction === 'append'">

      <ion-item text-wrap no-lines>
        <ion-label>
          <h2>{{ 'googleSheetsColumns' | translate }}</h2>
        </ion-label>
      </ion-item>
      <div class="component-editor-card ">
        <ion-item text-wrap no-lines style="background: transparent;">
          <p>
            {{ 'googleSheetsColumnsDescription' | translate }}
          </p>
        </ion-item>

        <!-- Column Values List -->
        <ion-grid class="values-grid">
          <ion-item no-lines *ngFor="let value of outputBlock.googleSheetsValues; let i = index" style="background: transparent; padding-left: 11px;">
            <ion-row no-padding>
              <ion-col col-5>
                <div style="position: relative; width: 100%;">
                  <ion-icon *ngIf="i === 0" name="key" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #999; z-index: 1;"></ion-icon>
                  <input [(ngModel)]="outputBlock.googleSheetsValues[i].column" class="inline-input" type="text" placeholder="Example: Quantity" [style.border]="isColumnNameInvalid(i) ? '1px solid #f53d3d' : ''" [style.padding-left]="i === 0 ? '35px' : ''" [disabled]="i === 0" />
                </div>
              </ion-col>
              <ion-col col-6>
                <input [(ngModel)]="outputBlock.googleSheetsValues[i].value" class="inline-input" type="text" placeholder="Example: {{ curlyOpen }} number {{ curlyClose }}" variableInjector [style.border]="isColumnValueInvalid(i) ? '1px solid #f53d3d' : ''" [disabled]="i === 0" />
              </ion-col>
              <ion-col col-1>
                <button ion-button small center clear icon-only color="danger" (click)="removeValue(i)" [disabled]="i === 0">
                  <ion-icon name="trash"></ion-icon>
                </button>
              </ion-col>
            </ion-row>
          </ion-item>
        </ion-grid>

        <ion-item no-lines>
          <div style="padding: 0; margin: 0">
            <button ion-button small icon-start (click)="addValue()">
              <ion-icon name="add"></ion-icon>
              {{ 'googleSheetsAddColumn' | translate }}
            </button>
          </div>
        </ion-item>
      </div>

      <ion-item></ion-item>

      <!-- Info for Get/Delete Actions -->
      <ion-item text-wrap *ngIf="outputBlock.googleSheetsAction === 'get'">
        <p>
          {{ 'googleSheetsGetRowDescription' | translate }}
        </p>
      </ion-item>
      <ion-item text-wrap *ngIf="outputBlock.googleSheetsAction === 'delete'">
        <p>
          {{ 'googleSheetsDeleteRowDescription' | translate }}
        </p>
      </ion-item>

    </div>

  </div>
</component-editor>
